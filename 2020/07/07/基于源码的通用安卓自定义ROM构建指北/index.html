<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>基于源码的通用安卓自定义ROM构建指北 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="基于源码的通用安卓自定义ROM构建指北前情提要： 如果你打算自行构建rom那么，你需要提前准备以下几点  一台安装了linux系统的电脑，性能尽量高一点，但也不是说性能低下就不能构建了，但要用时间来弥补性能差距，简单来说就是性能越差所花的世界就越长。  以作者为例，作者的电脑CPU：AMD Ryzen 1400 内存：Kington ddr4 2400 超2666 硬盘 西数500G 使用不知名固">
<meta property="og:type" content="article">
<meta property="og:title" content="基于源码的通用安卓自定义ROM构建指北">
<meta property="og:url" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="基于源码的通用安卓自定义ROM构建指北前情提要： 如果你打算自行构建rom那么，你需要提前准备以下几点  一台安装了linux系统的电脑，性能尽量高一点，但也不是说性能低下就不能构建了，但要用时间来弥补性能差距，简单来说就是性能越差所花的世界就越长。  以作者为例，作者的电脑CPU：AMD Ryzen 1400 内存：Kington ddr4 2400 超2666 硬盘 西数500G 使用不知名固">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-05-07-11-10-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-05-10-35-18-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-05-14-21-37-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-05-14-22-27-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-07-15-49-15-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-05-14-24-07-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-05-31-10-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-05-35-22-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-05-34-51-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-05-38-52-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-06-22-02-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-06-10-34-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-08-35-42-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-08-36-33-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-08-40-18-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-08-40-27-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-39-54-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-40-36-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-08-49-10-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-04-12-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-08-42-08-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-12-33-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-12-11-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-27-01-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-26-47-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-28-04-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-28-21-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-31-17-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-32-23-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-36-24-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-39-54-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-40-36-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-46-55-image.png">
<meta property="og:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-48-35-image.png">
<meta property="article:published_time" content="2020-07-07T09:42:49.650Z">
<meta property="article:modified_time" content="2020-07-07T09:48:38.825Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-05-07-11-10-image.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-基于源码的通用安卓自定义ROM构建指北" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/" class="article-date">
  <time datetime="2020-07-07T09:42:49.650Z" itemprop="datePublished">2020-07-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      基于源码的通用安卓自定义ROM构建指北
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="基于源码的通用安卓自定义ROM构建指北"><a href="#基于源码的通用安卓自定义ROM构建指北" class="headerlink" title="基于源码的通用安卓自定义ROM构建指北"></a>基于源码的通用安卓自定义ROM构建指北</h1><h2 id="前情提要："><a href="#前情提要：" class="headerlink" title="前情提要："></a>前情提要：</h2><ul>
<li><p>如果你打算自行构建rom那么，你需要提前准备以下几点</p>
<ul>
<li><p><code>一台安装了linux系统的电脑</code>，性能尽量高一点，但也不是说性能低下就不能构建了，但要用时间来弥补性能差距，简单来说就是性能越差所花的世界就越长。</p>
<ul>
<li><p>以作者为例，作者的电脑CPU：AMD Ryzen 1400 内存：Kington ddr4 2400 超2666 硬盘 西数500G 使用不知名固态通过 lvm 设置5G缓存加速，第一次总共用时<code>24小时</code>，其中多数时间用来重新编译，因为莫名奇妙的编译bug，第二次用时<code>4小时</code>，如何做到缩短时间的呢，都要归功于<code>Cache</code>，编译过一次会缓存编译结果，所以第二次<code>编译的时长就会大大缩短，同时代价是更多的储存空间占用</code></p>
<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-05-07-11-10-image.png" alt=""></p>
</li>
</ul>
</li>
<li><p><code>至少250G的储存空间</code>，会占用大量储存空间，有机械盘就再好不过了，便宜量大，也可以通过配置固态缓存来实现加速。</p>
</li>
<li><p><code>足够的内存</code>，至少需要8G以上，推荐12G，当然越高越好，不够的朋友们也不要着急离开，可以使用swap解决问题，不过所用时间就不敢恭维了，其实8G也有点不够看了。</p>
</li>
<li><p><code>一颗耐得住折腾的心</code>，因为中间会有很多搞不懂的东西和数不尽的坑。</p>
</li>
<li><p><code>善用搜索引擎</code>，出现报错的时候，先把报错复制搜索，看看网上有没有人遇到类似的问题，以寻求解决方案，其中不乏有许多国外友人的案例，这时候看不懂英文怎么办呢？去学阿，笨蛋！当然这是大家都知道的，但有没有一种更加”偷懒“的方法呢？当然有啦，Chrome！它自带的网页翻译使用谷歌翻译，解决了不少人的语言问题。</p>
</li>
<li><p>准备完这些东西，你就可以开始构建属于你自己的rom辣！</p>
</li>
</ul>
</li>
</ul>
<h2 id="万事开头难，可不要被网速拖累了哦"><a href="#万事开头难，可不要被网速拖累了哦" class="headerlink" title="万事开头难，可不要被网速拖累了哦!"></a>万事开头难，可不要被网速拖累了哦!</h2><h3 id="1-下载AOSP开源代码"><a href="#1-下载AOSP开源代码" class="headerlink" title="1.下载AOSP开源代码"></a>1.下载AOSP开源代码</h3><blockquote>
<p>安卓或者说所有安卓系统，它们都是在AOSP[^aosp]的基础上搭建起来的，华为的emui也好，小米的miui也好，还是OPPO的colorOS，还有各类自定义ROMs，例如Hovac（LineageBase），LineageOS，都是在AOSP的基础上搭建起来的，因为AOSP是开源免费的，使用它不必向任何组织或任何人缴纳任何一笔费用，所以这一部是不能少的。</p>
</blockquote>
<ol>
<li><p>在控制台中cd到合适的位置</p>
<blockquote>
<p>随便一个文件位置，确保你能找到就行，<code>AOSP</code> 为文件夹的名字</p>
</blockquote>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~/AOSP</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~/AOSP</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>下载初始化包，因为源码非常的大，所以推荐使用这种方式来缩短下载时间</li>
</ol>
<blockquote>
<p>这大概会下载大约85G的文件，解压得到的 AOSP 工程目录，并新增82G的文件，这一步耗时有点久，耐心等待，且不会有任何控制台输出，不要以为卡住了。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -c https://mirrors.bfsu.edu.cn/aosp-monthly/aosp-latest.tar</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar xf aosp-latest.tar</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>安装repo工具和git </li>
</ol>
<blockquote>
<p>不同系统有不同的安装方法，关于git的安装在所有发行版中都比较方便，这里只介绍repo的通用安装方法</p>
</blockquote>
<blockquote>
<p>repo的安装路径，可自定义</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~/bin</span><br></pre></td></tr></table></figure>

<blockquote>
<p>导入路径到环境变量，可放入配置文件不然每次都要输入</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PATH=~/bin:$PATH</span><br></pre></td></tr></table></figure>

<blockquote>
<p>从谷歌下载repo</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://storage.googleapis.com/git-repo-downloads/repo &gt; ~/bin/repo</span><br></pre></td></tr></table></figure>

<blockquote>
<p>或者使用镜像下载，这里列举两个，有其他需要可以搜索<code>AOSP mirror</code></p>
</blockquote>
<blockquote>
<p>#清华：</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://mirrors.tuna.tsinghua.edu.cn/git/git-repo &gt; ~/bin/repo</span><br></pre></td></tr></table></figure>

<blockquote>
<p>#北京外国语大学：</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://mirrors.bfsu.edu.cn/git/git-repo &gt; ~/bin/repo</span><br></pre></td></tr></table></figure>

<blockquote>
<p>赋予文件可执行权限</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod a+x ~/bin/repo</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>同步源码</li>
</ol>
<blockquote>
<p>cd aosp #cd 到源码路径</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">repo sync # 同步，耗时较久</span><br></pre></td></tr></table></figure>

<blockquote>
<p>此部分借鉴：<code>https://mirrors.bfsu.edu.cn/help/AOSP/</code></p>
</blockquote>
<h2 id="2-配置环境"><a href="#2-配置环境" class="headerlink" title="2.配置环境"></a>2.配置环境</h2><blockquote>
<p>这一节东西不多，很简单。</p>
</blockquote>
<ol>
<li>配置系统环境</li>
</ol>
<blockquote>
<p>不同linux发行版有不同的环境配置</p>
</blockquote>
<blockquote>
<p>具体教程可以搜索<code>AOSP+发行版名称</code>，或者你需要构建的ROM通常会有教程</p>
</blockquote>
<blockquote>
<p>作者使用的是<code>archlinux</code>发行版，所以这里使用archlinux作为演示</p>
</blockquote>
<p><em>介绍一个超好用的一键配置脚本，作者是github上的akhilnarang[^akhilnarang]</em></p>
<blockquote>
<p>cd到上级文件夹</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~/AOSP</span><br></pre></td></tr></table></figure>

<blockquote>
<p>下载脚本文件</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/akhilnarang/scripts</span><br></pre></td></tr></table></figure>

<blockquote>
<p>cd到文件夹</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd scripts</span><br></pre></td></tr></table></figure>

<blockquote>
<p>查看配置文件，选择适合自己的配置文件</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls setup</span><br></pre></td></tr></table></figure>

<img title="" src="基于源码的通用安卓自定义ROM构建指北/2020-07-05-10-35-18-image.png" alt="" data-align="left">

<blockquote>
<p>介绍一下，<code>android_build_env.sh</code> 这个文件是给使用apt包管理器的发行版使用的例如<code>Ubuntu/Linux Mint</code>，其它的按照发行版的名称命名，有使用pacman的<code>arch/manjaro</code>，还有rpm的<code>fedora</code>等。</p>
<p>作者使用的是archlinux所以执行<code>arch-manjaro.sh</code></p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash setup/arch-manjaro.sh # 执行后会要求sudo密码以安装程序</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p>配置github环境</p>
<pre><code>**安装GIT**</code></pre></li>
</ol>
<blockquote>
<p>不同的发行版就有不同的包管理器随之带来了不同的安装命令，不过都大同小异，下面以archlinux为例</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S git #安装了aur管理器的的可以使用yay git</span><br></pre></td></tr></table></figure>

<pre><code>**配置GIT（可选）**</code></pre><blockquote>
<p>此节需要github账号，如果不push代码就可以不用配置了</p>
</blockquote>
<blockquote>
<p>替换引号内的<code>name</code>为你github上的名字</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name "name"</span><br></pre></td></tr></table></figure>

<blockquote>
<p>替换引号内的email为你github注册的邮箱</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email "email"</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>配置自定义rom</li>
</ol>
<blockquote>
<p>这里以bliss为例</p>
</blockquote>
<blockquote>
<p>进入目标路径</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~/AOSP/aosp</span><br></pre></td></tr></table></figure>

<blockquote>
<p>去gihub搜索blissRoms</p>
</blockquote>
<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-05-14-21-37-image.png" alt=""></p>
<blockquote>
<p>找到blissRoms</p>
</blockquote>
<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-05-14-22-27-image.png" alt=""></p>
<blockquote>
<p>找到manfest</p>
</blockquote>
<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-07-15-49-15-image.png" alt=""></p>
<blockquote>
<p>找到带repo字样的命令</p>
</blockquote>
<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-05-14-24-07-image.png" alt=""></p>
<blockquote>
<p>复制粘贴</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">repo init -u https://github.com/BlissRoms/platform_manifest.git -b q</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">repo sync --no-tags --no-clone-bundle</span><br></pre></td></tr></table></figure>

<blockquote>
<p>添加目标设备配置，下面以LGV30为例</p>
</blockquote>
<p><strong>注意，这一步是非必须的，如果你的手机的第三方rom没有官方的维护者，那么可以考虑下面的方法</strong></p>
<blockquote>
<p>首先，找到你需要构建rom的目标手机的已经构建过ROM的作者的github账号，一般是lineageOS的作者，不过这里使用Slowhy的pe项目。</p>
</blockquote>
<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-05-31-10-image.png" alt=""></p>
<blockquote>
<p>找到带有manfest字样的项目并点击，进入以下界面</p>
</blockquote>
<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-05-35-22-image.png" alt=""></p>
<blockquote>
<p>找到branch（分支），点击选择需要的分支，一般是安卓版本</p>
</blockquote>
<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-05-34-51-image.png" alt=""></p>
<blockquote>
<p>这里我们要构建的是安卓十的rom所以选择pe-ten，不同作者有不同命名习惯，不过一般都是他维护的rom的版本名称。</p>
</blockquote>
<blockquote>
<p>找到与你手机代号对应的xml文件，lgv30对应h930</p>
</blockquote>
<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-05-38-52-image.png" alt=""></p>
<blockquote>
<p>把这个文件下载好，复制到<code>~/AOSP/aosp/.repo/local_manfests</code>文件夹下</p>
</blockquote>
<blockquote>
<p>创建文件夹，一般来说是没有这个文件夹的</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~/AOSP/aosp/.repo/local_manfests</span><br></pre></td></tr></table></figure>

<blockquote>
<p>至于怎么复制，详情请自行百度</p>
</blockquote>
<p><strong>进入仓库</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~/AOSP/aosp/</span><br></pre></td></tr></table></figure>

<blockquote>
<p>同步 其中参数j后面的数字是同时运行的线程数，推荐使用4</p>
</blockquote>
<pre><code>repo sync --no-tags --no-clone-bundle -j4</code></pre><blockquote>
<p>耐心等待折磨人的网速，期间可能多次报错，不用管，那是网络问题，多次运行命令直到控制台输出以下命令，有命令提示的可以尝试按他说的做</p>
</blockquote>
<blockquote>
<p>此过程花费时间较长</p>
</blockquote>
<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-06-22-02-image.png" alt=""></p>
<blockquote>
<p> <strong>出现successfully代表同步完成</strong></p>
</blockquote>
<blockquote>
<p>出现这种无法移除的手动移除就好</p>
</blockquote>
<img title="" src="基于源码的通用安卓自定义ROM构建指北/2020-07-06-06-10-34-image.png" alt="" data-align="inline">

<h2 id="3-开始构建"><a href="#3-开始构建" class="headerlink" title="3.开始构建"></a>3.开始构建</h2><blockquote>
<p>在构建之前内存不够的需要开启swap/zswap/zram/swapfile，四选一，8g以下，给出16g的交换空间，8g以上再分配4到8g，多肯定是多了，以防万一嘛，多的都去了还差这么点？</p>
</blockquote>
<h3 id="修改文件"><a href="#修改文件" class="headerlink" title="修改文件"></a>修改文件</h3><blockquote>
<p>这里的路径lge是你的手机品牌代号，LG是lge</p>
</blockquote>
<blockquote>
<p>而h930前面已经说了是手机型号</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd device/lge/h930</span><br></pre></td></tr></table></figure>

<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-08-35-42-image.png" alt=""></p>
<blockquote>
<p>修改文件名称，aosp是原来rom的名称，<code>把它修改为你目标构建rom的名称</code>，例如lineage，havoc，pe等等</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv aosp_h930.mk bliss_h930.mk</span><br></pre></td></tr></table></figure>

<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-08-36-33-image.png" alt=""></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv aosp.dependencies bliss.dependencies</span><br></pre></td></tr></table></figure>

<blockquote>
<p>修改文件内内容， <code>同样的把aosp统统改为目标rom名称</code> </p>
</blockquote>
<p><strong>后面通通使用vim编辑器修改文件，不会使用可自行将vim替换为其他编辑器，或通过文件管理器以图形化操作修改，主要是看需要修改那些文件（看图片就好）</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim bliss_h930.mk</span><br></pre></td></tr></table></figure>

<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-08-40-18-image.png" alt=""></p>
<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-08-40-27-image.png" alt=""></p>
<blockquote>
<p>然后找到vendor/aosp/config/common_full_phone.mk这一行</p>
</blockquote>
<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-39-54-image.png" alt=""></p>
<blockquote>
<p>修改它</p>
</blockquote>
<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-40-36-image.png" alt=""></p>
<blockquote>
<p>这里的名称也要修改，而且是一定要改</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim AndroidProducts.mk</span><br></pre></td></tr></table></figure>

<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-08-49-10-image.png" alt=""></p>
<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-04-12-image.png" alt=""></p>
<blockquote>
<p>有的机型有common文件，有的没有</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~/Android/aosp/device/lge/joan-common</span><br></pre></td></tr></table></figure>

<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-08-42-08-image.png" alt=""></p>
<blockquote>
<p>同样的</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv aosp.dependencies bliss.dependencies</span><br></pre></td></tr></table></figure>

<blockquote>
<p>cd 到主目录</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~/Android/aosp/</span><br></pre></td></tr></table></figure>

<blockquote>
<p>运行配置环境文件</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">. build/envsetup.sh</span><br></pre></td></tr></table></figure>

<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-12-33-image.png" alt=""></p>
<blockquote>
<p>设置ccache最大大小</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ccache -M 50G</span><br></pre></td></tr></table></figure>

<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-12-11-image.png" alt=""></p>
<p><strong>好的，到这里，所有的准备工作终于全部都做完了，真是有够麻烦的呢</strong></p>
<h2 id="开始预构建"><a href="#开始预构建" class="headerlink" title="开始预构建"></a>开始预构建</h2><blockquote>
<p>构建命令多种多样具体看你的rom的readme，比如我的bliss</p>
</blockquote>
<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-27-01-image.png" alt=""></p>
<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-26-47-image.png" alt=""></p>
<blockquote>
<p>又比如浩克</p>
</blockquote>
<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-28-04-image.png" alt=""></p>
<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-28-21-image.png" alt=""></p>
<blockquote>
<p>但总的来说还是有通用的方法</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lunch</span><br></pre></td></tr></table></figure>

<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-31-17-image.png" alt=""></p>
<h2 id="报错的简单修复（可忽略）"><a href="#报错的简单修复（可忽略）" class="headerlink" title="报错的简单修复（可忽略）"></a>报错的简单修复（可忽略）</h2><p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-32-23-image.png" alt=""></p>
<blockquote>
<p>选择之后突然有报错，这时候不要慌，有报错是很正常的，粗略读以下原来，是vendor/aosp/config/common_full_phone.mk不存在。分析以下这个路径我们发现，由于我们需要构建的是blissrom，所以aosp下面的路径当然不存在，那来看看把aosp修改为bliss之后，有没有这个文件</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls vendor/bliss/config/common_full_phone.mk</span><br></pre></td></tr></table></figure>

<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-36-24-image.png" alt=""></p>
<blockquote>
<p>可以看到是有这个文件的，再回过头看看，是哪个文件报的错。</p>
</blockquote>
<blockquote>
<p>是device/lge/h930/bliss_h930.mk这个文件，那么打开它</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim device/lge/h930/bliss_h930.mk</span><br></pre></td></tr></table></figure>

<blockquote>
<p>然后找到vendor/aosp/config/common_full_phone.mk这一行</p>
</blockquote>
<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-39-54-image.png" alt=""></p>
<blockquote>
<p>修改它</p>
</blockquote>
<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-40-36-image.png" alt=""></p>
<blockquote>
<p>保存退出重新输入命令</p>
</blockquote>
<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-46-55-image.png" alt=""></p>
<blockquote>
<p>没有报错，完美。</p>
</blockquote>
<p><strong>开始构建</strong> </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mka</span><br></pre></td></tr></table></figure>

<p><img src="%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/2020-07-06-09-48-35-image.png" alt=""></p>
<blockquote>
<p>然后就是漫无止境的等待了，其它的各种参数方面的各自的rom都有各自的推荐，最常使用的应该是<code>-j</code>参数了这对于编译速度有很大提升，但一般不建议超过cpu的核心数，同时默认也是不错的，那就在这里完结啰，祝你编译路上不会遇到奇奇怪怪的bug，下次再见！</p>
</blockquote>
<p>后记：</p>
<p>在构建过程中可能会遇见各种各样的奇怪问题或者bug，如果无法理解或无法解决，可以尝试构建一次，看会不会出现同样的bug，此类bug通常提示为文件丢失，在确保同步文件无误的情况下，多半是由于构建rom时巨大的文件数据吞吐量造成的文件丢失，所以重新使用构建命令<code>mka</code>，基本可以解决问题，已经构建的文件会储存起来，在源代码有改动的时候重新编译，所以不用担心丢失编译进度。</p>
<p>小提示：</p>
<p><code>mka clean</code>，可以删除已经编译好的rom文件，在编译第二个版本的时候可以使用次命令来尝试节省空间。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/" data-id="ckcbr40ug0000sv75452p08p9" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2020/07/07/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/07/07/%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E9%80%9A%E7%94%A8%E5%AE%89%E5%8D%93%E8%87%AA%E5%AE%9A%E4%B9%89ROM%E6%9E%84%E5%BB%BA%E6%8C%87%E5%8C%97/">基于源码的通用安卓自定义ROM构建指北</a>
          </li>
        
          <li>
            <a href="/2020/07/07/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>